{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ board_item.title }}</title>

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <!-- Optional: Your CSS -->
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f6f6f6;
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: 2rem auto;
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    }

    h1 {
      margin-bottom: 0.5rem;
    }

    .meta {
      font-size: 0.9rem;
      color: #888;
      margin-bottom: 1.5rem;
    }

    .rich-description {
      margin: 1.5rem 0;
    }

    iframe {
      width: 100%;
      height: 400px;
      border: none;
      margin-bottom: 2rem;
      border-radius: 8px;
    }

    /* Swiper Styles */
    .swiper-container {
      width: 100%;
      max-width: 100%;
      height: auto;
      margin: 2rem 0;
      border-radius: 10px;
      overflow: hidden;
    }

    .swiper-slide img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    .swiper-button-next,
    .swiper-button-prev {
      color: #000;
    }

    .swiper-pagination-bullet-active {
      background-color: #000;
    }

    .location {
      font-weight: bold;
    }

    .label {
      display: inline-block;
      background-color: #007bff;
      color: #fff;
      font-size: 0.8rem;
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      margin-right: 0.5rem;
    }

    .tags {
      margin-bottom: 1rem;
    }

  </style>
</head>
<body>
  <div class="container">
    <h1>{{ board_item.title }}</h1>

    <div class="meta">
      {% if board_item.event_date %}
        üìÖ {{ board_item.event_date|date:"F j, Y, g:i A" }}
      {% endif %}
      {% if board_item.location %}
        &nbsp; | üìç <span class="location">{{ board_item.location }}</span>
      {% endif %}
    </div>

    <div class="tags">
      {% if board_item.is_rehearsal %}
        <span class="label">üé§ Rehearsal</span>
      {% else %}
        <span class="label">üé≠ Performance</span>
      {% endif %}
    </div>

    {% if board_item.youtube_embed_url %}
      <iframe
        src="{{ board_item.youtube_embed_url }}"
        allowfullscreen
      ></iframe>
    {% endif %}

    <div class="rich-description">
      {{ board_item.rich_description|safe }}
    </div>

    {% if board_item.photos.exists %}
      <div class="swiper-container">
        <div class="swiper-wrapper">
          {% for photo in board_item.photos.all %}
            <div class="swiper-slide">
              <img src="{{ photo.image.url }}" alt="Photo for {{ board_item.title }}">
            </div>
          {% endfor %}
        </div>

        <!-- Navigation and pagination -->
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    {% endif %}

    {% if board_item.link %}
      <p>üîó <a href="{{ board_item.link }}" target="_blank">{{ board_item.link }}</a></p>
    {% endif %}
  </div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Swiper Init -->
  <script>
    const swiper = new Swiper('.swiper-container', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 10,
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      autoplay: {
        delay: 3000,
        disableOnInteraction: false
      },
    });
  </script>
</body>
</html>
