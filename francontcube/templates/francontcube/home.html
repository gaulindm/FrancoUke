{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VidÃ©os - FrancontCube</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #f5f5f5;
        }
        .video-wrapper {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: auto;
        }
        .video-fallback {
            display: none;
            margin-top: 1rem;
        }
    </style>
</head>

<body>
<div class="container py-5">

    <h1 class="mb-4 text-center">VidÃ©os FrancontCube</h1>

    <!-- ðŸŒŸ VIDEO PRINCIPALE AVEC FALLBACK -->
    <div class="video-wrapper mb-5">
        <iframe id="mainVideo"
                width="560" height="315"
                src="https://www.youtube.com/embed/HU_JTjMhMnE?rel=0"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
        </iframe>

        <!-- Fallback si lâ€™intÃ©gration Ã©choue -->
        <div id="videoFallback" class="video-fallback alert alert-warning text-center">
            Impossible dâ€™afficher la vidÃ©o.  
            <br>
            <a href="https://www.youtube.com/watch?v=HU_JTjMhMnE" class="btn btn-primary mt-2" target="_blank">
                Ouvrir sur YouTube
            </a>
        </div>
    </div>

    <!-- ðŸ“º LISTE DE VIDÃ‰OS -->
    <h3 class="mb-3">Autres vidÃ©os utiles</h3>
    <ul class="list-group">
        <li class="list-group-item">
            <a href="https://www.youtube.com/watch?v=HU_JTjMhMnE" target="_blank">
                ðŸ”— RÃ©soudre le cube â€“ Partie 1
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
                ðŸ”— RÃ©soudre le cube â€“ Partie 2
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.youtube.com/watch?v=V-_O7nl0Ii0" target="_blank">
                ðŸ”— Astuces et conseils
            </a>
        </li>
    </ul>
</div>

<!-- Script pour dÃ©tecter erreur iframe -->
<script>
    const iframe = document.getElementById("mainVideo");
    const fallback = document.getElementById("videoFallback");

    // Teste si YouTube bloque l'intÃ©gration
    iframe.onerror = () => {
        iframe.style.display = "none";
        fallback.style.display = "block";
    };

    // SÃ©curitÃ© : si rien nâ€™a chargÃ© aprÃ¨s 3 sec â†’ fallback
    setTimeout(() => {
        const noData = !iframe.contentWindow || iframe.contentWindow.length === 0;
        if (noData) {
            iframe.style.display = "none";
            fallback.style.display = "block";
        }
    }, 3000);
</script>

</body>
</html>
